{"version":3,"sources":["components/Header/index.js","components/Header/Header.js","constants/index.js","actions/index.js","components/Button/Button.js","components/Button/index.js","components/Profile/index.js","components/Profile/Profile.js","components/Stats/index.js","components/Stats/Stats.js","components/ImageGrid/ImageGrid.js","components/ImageGrid/index.js","reducers/loadingReducer.js","reducers/imagesReducer.js","reducers/errorReducer.js","reducers/pageReducer.js","reducers/statsReducer.js","reducers/index.js","api/index.js","sagas/imageSaga.js","sagas/statsSaga.js","sagas/index.js","store/index.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","href","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","Component","IMAGES","STATS","setImages","images","type","loadImageStats","id","setImageStats","downloads","setErrorStats","Button","children","isLoading","props","disabled","defaultProps","Profile","details","profile_url","target","rel","src","image_url","alt","Stats","stats","download","role","aria-label","error","ImageGrid","this","loadImages","imageStats","map","image","key","Math","random","ceil","user","profile_image","small","links","html","urls","alt_description","onClick","connect","nextPage","dispatch","loadingReducer","state","action","imagesReducer","errorReducer","pageReducer","statsReducer","rootReducer","combineReducers","URL","KEY","fetchImages","page","a","fetch","response","json","data","status","Error","errors","fetchImageStats","handleImagesLoad","watchImagesLoad","getPage","select","call","put","takeEvery","handleStatsRequest","watchImageSuccessForStats","i","total","take","length","fork","rootSaga","all","imageSaga","statsSaga","store","sagaMiddleware","createSagaMiddleware","composeArgs","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","push","createStore","compose","apply","undefined","run","consfigureStore","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.b7bafb83.chunk.js","sourcesContent":["import Header from \"./Header\";\n\nexport default Header;\n","import React, { Component } from \"react\";\nimport \"./style.css\";\n\nclass Header extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<header>\n\t\t\t\t<div className=\"navbar navbar-dark box-shadow\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"/\"\n\t\t\t\t\t\t\tclassName=\"navbar-brand d-flex align-items-center\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\twidth=\"40\"\n\t\t\t\t\t\t\t\theight=\"40\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"></path>\n\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"13\" r=\"4\"></circle>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<strong>Album</strong>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nexport default Header;\n","const IMAGES = {\n\tLOAD: \"IMAGES_LOAD\",\n\tLOAD_SUCCESS: \"IMAGES_LOAD_SUCCESS\",\n\tLOAD_FAIL: \"IMAGES_LOAD_FAIL\",\n};\n\nconst STATS = {\n\tLOAD: \"STATS_LOAD\",\n\tLOAD_SUCCESS: \"STATS_LOAD_SUCCESS\",\n\tLOAD_FAIL: \"STATS_LOAD_FAIL\",\n};\n\nexport { IMAGES, STATS };\n","import { IMAGES, STATS } from \"../constants\";\n\nconst loadImages = () => ({\n\ttype: IMAGES.LOAD,\n});\n\nconst setImages = (images) => ({\n\ttype: IMAGES.LOAD_SUCCESS,\n\timages,\n});\n\nconst setError = (error) => ({\n\ttype: IMAGES.LOAD_FAIL,\n\terror,\n});\n\nconst loadImageStats = (id) => ({\n\ttype: STATS.LOAD,\n\tid,\n});\n\nconst setImageStats = (id, downloads) => ({\n\ttype: STATS.LOAD_SUCCESS,\n\tid,\n\tdownloads,\n});\n\nconst setErrorStats = (id) => ({\n\ttype: STATS.LOAD_FAIL,\n\tid,\n});\n\nexport {\n\tloadImages,\n\tsetImages,\n\tsetError,\n\tloadImageStats,\n\tsetImageStats,\n\tsetErrorStats,\n};\n","import React from \"react\";\nimport \"./style.css\";\n\nconst Button = ({ children, isLoading, ...props }) => {\n\treturn (\n\t\t<button\n\t\t\tclassName=\"btn btn-primary btn-lg mb-3 center center-block\"\n\t\t\tdisabled={isLoading}\n\t\t\t{...props}\n\t\t>\n\t\t\t{isLoading ? \"Loading...\" : children}\n\t\t</button>\n\t);\n};\n\nButton.defaultProps = {\n\tisLoading: false,\n};\n\nexport default Button;\n","import Button from \"./Button\";\n\nexport default Button;\n","import Profile from \"./Profile\";\n\nexport default Profile;\n","import React from \"react\";\nimport \"./style.css\";\n\nconst Profile = ({ details }) => {\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<a\n\t\t\t\thref={details.profile_url}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t>\n\t\t\t\t<img src={details.image_url} alt=\"profile\" />\n\t\t\t</a>\n\t\t</div>\n\t);\n};\n\nexport default Profile;\n","import Stats from \"./Stats\";\n\nexport default Stats;\n","import React from \"react\";\nimport \"./style.css\";\n\nconst Stats = ({ stats, download }) => {\n\tif (!stats) {\n\t\treturn <span className=\"stats\">Loading...</span>;\n\t}\n\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<a\n\t\t\t\thref={download}\n\t\t\t\trel=\"nofollow noopener noreferrer\"\n\t\t\t\tdownload=\"\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>\n\t\t\t\t<span role=\"img\" aria-label=\"download\" className=\"download\">\n\t\t\t\t\t📥\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t\t<span className=\"stats\">\n\t\t\t\t{stats.error && \"🤯 Error!\"}\n\t\t\t\t{stats.isLoading && \"🙄 Loading...\"}\n\t\t\t\t{stats.downloads != null && `🤘 ${stats.downloads}`}\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n\nexport default Stats;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadImages } from \"../../actions\";\nimport Button from \"../Button\";\nimport Profile from \"../Profile\";\nimport Stats from \"../Stats\";\nimport \"./style.css\";\n\nclass ImageGrid extends Component {\n\tcomponentDidMount() {\n\t\tthis.props.loadImages();\n\t}\n\n\trender() {\n\t\tconst { images, error, isLoading, loadImages, imageStats } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"content\">\n\t\t\t\t<section className=\"grid\">\n\t\t\t\t\t{images.map((image) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={image.id + Math.random()}\n\t\t\t\t\t\t\t\tclassName={`item item-${Math.ceil(\n\t\t\t\t\t\t\t\t\timage.height / image.width\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\t\t\tdetails={{\n\t\t\t\t\t\t\t\t\t\timage_url:\n\t\t\t\t\t\t\t\t\t\t\timage.user.profile_image.small,\n\t\t\t\t\t\t\t\t\t\tprofile_url: image.user.links.html,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<Stats\n\t\t\t\t\t\t\t\t\tstats={imageStats[image.id]}\n\t\t\t\t\t\t\t\t\tdownload={image.links.download}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={image.urls.small}\n\t\t\t\t\t\t\t\t\talt={image.alt_description}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</section>\n\t\t\t\t{error && <div className=\"error mb-5\">{error}</div>}\n\t\t\t\t<div>\n\t\t\t\t\t<Button onClick={() => !isLoading && loadImages()}>\n\t\t\t\t\t\tLoad Images\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({\n\tisLoading,\n\timages,\n\terror,\n\tnextPage,\n\timageStats,\n}) => ({\n\tisLoading,\n\timages,\n\terror,\n\tnextPage,\n\timageStats,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n\tloadImages: () => dispatch(loadImages()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageGrid);\n","import ImageGrid from \"./ImageGrid\";\n\nexport default ImageGrid;\n","import { IMAGES } from \"../constants\";\n\nconst loadingReducer = (state = false, action) => {\n\tswitch (action.type) {\n\t\tcase IMAGES.LOAD:\n\t\t\treturn true;\n\n\t\tcase IMAGES.LOAD_SUCCESS:\n\t\t\treturn false;\n\n\t\tcase IMAGES.LOAD_FAIL:\n\t\t\treturn false;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default loadingReducer;\n","import { IMAGES } from \"../constants\";\n\nconst imagesReducer = (state = [], action) => {\n\tswitch (action.type) {\n\t\tcase IMAGES.LOAD_SUCCESS: {\n\t\t\treturn [...state, ...action.images];\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default imagesReducer;\n","import { IMAGES } from \"../constants\";\n\nconst errorReducer = (state = null, action) => {\n\tswitch (action.type) {\n\t\tcase IMAGES.LOAD_FAIL:\n\t\t\treturn action.error;\n\n\t\tcase IMAGES.LOAD:\n\t\tcase IMAGES.LOAD_SUCCESS:\n\t\t\treturn null;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default errorReducer;\n","import { IMAGES } from \"../constants\";\n\nconst pageReducer = (state = 1, action) => {\n\tswitch (action.type) {\n\t\tcase IMAGES.LOAD_SUCCESS:\n\t\t\treturn state + 1;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default pageReducer;\n","import { STATS } from \"../constants\";\n\nconst statsReducer = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase STATS.LOAD: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.id]: {\n\t\t\t\t\tisLoading: true,\n\t\t\t\t\tdownloads: null,\n\t\t\t\t\terror: false,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase STATS.LOAD_SUCCESS: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.id]: {\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tdownloads: action.downloads,\n\t\t\t\t\terror: false,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tcase STATS.LOAD_FAIL: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.id]: {\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tdownloads: null,\n\t\t\t\t\terror: true,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default statsReducer;\n","import { combineReducers } from \"redux\";\n\nimport loadingReducer from \"./loadingReducer\";\nimport imagesReducer from \"./imagesReducer\";\nimport errorReducer from \"./errorReducer\";\nimport pageReducer from \"./pageReducer\";\nimport statsReducer from \"./statsReducer\";\n\nconst rootReducer = combineReducers({\n\tisLoading: loadingReducer,\n\timages: imagesReducer,\n\terror: errorReducer,\n\tnextPage: pageReducer,\n\timageStats: statsReducer,\n});\n\nexport default rootReducer;\n","const URL = \"https://api.unsplash.com/photos\";\nconst KEY = \"?client_id=WatIbCnsXxt0mAS6Y3cXgnwIrZ5uCzNfeiyjXvGxqFc\";\n\nconst fetchImages = async (page) => {\n\tconst response = await fetch(`${URL}${KEY}&per_page=4&page=${page}`);\n\tconst data = await response.json();\n\n\tif (response.status >= 400) {\n\t\tthrow new Error(data.errors);\n\t}\n\n\treturn data;\n};\n\nconst fetchImageStats = async (id) => {\n\tconst response = await fetch(`${URL}/${id}/statistics${KEY}`);\n\tconst data = await response.json();\n\n\tif (response.status >= 400) {\n\t\tthrow new Error(data.errors);\n\t}\n\n\treturn data;\n};\n\nexport { fetchImages, fetchImageStats };\n","import { takeEvery, select, call, put } from \"redux-saga/effects\";\nimport { fetchImages } from \"../api\";\nimport { IMAGES } from \"../constants\";\nimport { setImages, setError } from \"../actions\";\n\nconst getPage = (state) => state.nextPage;\n\nfunction* handleImagesLoad() {\n\ttry {\n\t\tconst page = yield select(getPage);\n\t\tconst images = yield call(fetchImages, page);\n\t\tyield put(setImages(images));\n\t} catch (error) {\n\t\tyield put(\n\t\t\tsetError(\"Something went wrong, Please try after few minutes.\")\n\t\t);\n\t}\n}\n\nfunction* watchImagesLoad() {\n\tyield takeEvery(IMAGES.LOAD, handleImagesLoad);\n}\n\nexport default watchImagesLoad;\n","import { call, fork, put, take } from \"redux-saga/effects\";\nimport { IMAGES } from \"../constants\";\nimport { fetchImageStats } from \"../api\";\nimport { loadImageStats, setErrorStats, setImageStats } from \"../actions\";\n\nfunction* handleStatsRequest(id) {\n\tfor (let i = 0; i < 3; i++) {\n\t\ttry {\n\t\t\tyield put(loadImageStats(id));\n\t\t\tconst stats = yield call(fetchImageStats, id);\n\t\t\tyield put(setImageStats(id, stats.downloads.total));\n\t\t\treturn true;\n\t\t} catch (e) {}\n\t}\n\n\tyield put(setErrorStats(id));\n}\n\nexport default function* watchImageSuccessForStats() {\n\twhile (true) {\n\t\tconst { images } = yield take(IMAGES.LOAD_SUCCESS);\n\n\t\tfor (let i = 0; i < images.length; i++) {\n\t\t\tyield fork(handleStatsRequest, images[i].id);\n\t\t}\n\t}\n}\n","import { all } from \"redux-saga/effects\";\n\nimport imageSaga from \"./imageSaga\";\nimport statsSaga from \"./statsSaga\";\n\nexport default function* rootSaga() {\n\tyield all([imageSaga(), statsSaga()]);\n}\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport rootReducer from \"../reducers\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSaga from \"../sagas\";\n\nconst consfigureStore = () => {\n\tconst sagaMiddleware = createSagaMiddleware();\n\n\tconst composeArgs = [applyMiddleware(sagaMiddleware)];\n\n\tif (window && window.__REDUX_DEVTOOLS_EXTENSION__) {\n\t\tcomposeArgs.push(window.__REDUX_DEVTOOLS_EXTENSION__());\n\t}\n\n\tconst store = createStore(\n\t\trootReducer,\n\t\tcompose.apply(undefined, composeArgs)\n\t);\n\n\tsagaMiddleware.run(rootSaga);\n\n\treturn store;\n};\n\nexport default consfigureStore;\n","import React from \"react\";\nimport Header from \"./components/Header\";\nimport ImageGrid from \"./components/ImageGrid\";\nimport { Provider } from \"react-redux\";\nimport consfigureStore from \"./store\";\n\nconst store = consfigureStore();\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<Header />\n\t\t\t<ImageGrid />\n\t\t</Provider>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}